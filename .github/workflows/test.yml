name: Run Tests

on:
  workflow_dispatch:
    branches: [ master ]
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    uses: a7mdfre7at/GihubActionDemo/.github/workflows/build.yml@master
    secrets:
      SOME_SECRET: ${{ secrets.SOME_SECRET }}

  test:
    needs: build
    steps:
    - name: Test
      run: dotnet test --no-restore --verbosity normal